---
layout: page
title: "Шаблонизация и подключение файлов"
permalink: templates.html
---

# Подключение файлов

В PHP есть поддержка вызова одного сценария из другого. С помощью специальной конструкции языка можно вызвать сценарий из отдельного файла по его имени, также как по имени вызываются функции. Такая способность называется подключением файлов. Причём таковым файлом может являться как php-сценарий, так и любой другой текстовый файл. Например, HTML-страница.

## Зачем разделять и подключать php-сценарии

PHP-разработчики дробят весь исходный код проекта на отдельные сценарии, чтобы с ними проще было работать. Если бы пришлось писать весь код в одном файле, то такой сценарий стал бы просто необъятным и ориентироваться там стало решительно невозможно. Поэтому разделение кода на разные сценарии - это естественный способ бороться со сложностью.  
Есть и еще один положительный эффект от подобного деления. Если вынести повторяющиеся блоки кода в отдельные сценарии, то появится возможность повторно использовать один код в разных файлах и подключать его только по требованию. Хороший пример - это пользовательские функции. Очень удобно объявлять их в отдельном сценарии, а затем подключать там, где эти функции понадобятся.

## Способы подключения файлов

Для подключения файлов в PHP есть две языковых конструкции: `require` и `require_once`. Чем же они отличаются? На самом деле, отличия между ними минимальны. Оба этих ключевых слова подключают файл с указанным именем и вызывают ошибку, если данный файл не существует.  
Однако особенность работы `require_once` состоит в том, что файл будет подключен только один раз, даже если вызвать эту инструкцию несколько раз с одним именем файла.

### Примеры подключения файлов

Для начала посмотрим как просто подключить один сценарий внутри другого. Для этого воспользуемся инструкцией `require`. Предположим, у нас есть два сценария: `index.php` и `sub.php`.  
  
Содержимое файла `sub.php`:  
```
<?php
print("Привет, я содержимое из sub.php!" . PHP_EOL);
```
В файле `index.php` находится код, который подключит сценарий `sub.php`:
```
<?php
require 'sub.php';
print("А я - index.php!" . PHP_EOL);
``` 
Интересный факт: `require` можно использовать как ключевое слово, либо как функцию.  
Результат будет одним и тем же:
```
<?php
require('sub.php'); // использование как функции
print("А я - index.php!" . PHP_EOL);
``` 
**Результат работы:**  
```
Привет, я содержимое из sub.php!
А я - index.php!
```
Что произошло? Два сценария как бы склеились в один: выполнилось все содержимое `sub.php` и добавилось в начало сценария `index.php`.  



подключение файлов
 зачем делить сценарии
 способы подключения
 относительный и абсолютный путь
 константы
 общая область видимости переменных
шаблонизация
 что такое шаблон и рыба
 проблема правок в верстке
 общие части страниц на сайте
 сбор страницы из частей
 термины
 что лежит в шаблоне
 изоляция данных
 что делает функция-шаблонизатор
 полный разбор на примере
уязвимости
 фильтрация данных - зачем
 определение XSS
 пример атаки
 мнемоники
 функции фильтрации
 обратное преобразование