---
layout: page
title: "Раздел 7 - Теория ООП и использование в PHP"
permalink: content-07
---

## Что такое процедурный подход
До сих пор, весь код написанный вами во время выполнения заданий из учебного и личного проектов использовал так
называемый процедурный подход.
При процедурном программировании код размещается в полностью отдельных функциях или процедурах. Эти функции могут
вызывать друг друга и быть вложенными. Данные размещаются в отдельных структурах - массивы, переменные,
а манипуляции с ними осуществляются с помощью этих функций или процедур.  

## Проблемы процедурного подхода
Сама по себе процедурный подход в программировании не является чем то плохим или неправильным. Можно написать прекрасные
сценарии и целые веб-сайты, работая только с функциями. Так, например, популярные системы управления контентом Wordpress
и Drupal (до восьмой версии) используют только процедурную парадигму.   

При структурном программировании данные зачастую отделяются от процедур и являются глобальными, благодаря чему их легко
модифицировать вне области видимости вашего кода. Это означает, что доступ к данным неконтролируемый и непредсказуемый
(то есть у множества функций может быть доступ к глобальным данным).
Кроме того, используя только функции сложно написать большое приложение, потому что, во-первых, функции сами по себе
являются лишь "преобразователями данных", черным ящиком, который принимает некоторые данные на входе, выполняет операции
и возвращает результат. функции ничего не говорят о структуре приложения.  
Вторая проблема состоит в ограниченной возможности повторного использования кода при структурном проектировании: вы
можете только один раз написать функцию, а затем применять её где это нужно.

## Принципы хорошего проектирования
Есть два основополагающих принципа проектирования хорошего кода:

**Прницип первый: не повторяйся**  
Каждый раз, когда программист пишет код и видит, что подобная функциональность уже была полностью или частично
реализована им ранее, это означает необходимость найти такой участок кода и выделить его в отдельную функцию.

**Принцип второй: не усложняй без необходимости**  
В области проектирования простота должна быть одной из ключевых целей и следует избегать ненужной сложности.
Этот принцип говорит о стремлении писать код максимально очевидным образом, а также делать ваши функции максимально
короткими и простыми.  

Методология ООП эффективно помогает разработчику следовать обоим этим принципам.

# Определение ООП
ООП означает  Объектно Ориентированное Программирование.  
Из определения понятно, что ключевая особенность ООП - это использование так называемых объектов, которые в этой
методологии ставятся во главу угла.  

## Что есть объект
Хорошая новость в том, что люди уже мыслят в терминах объектов, поэтому такое понятие должно быть интуитивно понятно
каждому.   

Например, когда вы смотрите на какого-то человека, вы видите его как объект.
При этом объект определяется двумя компонентами: атрибутами и поведением. У человека имеются такие атрибуты, как цвет
глаз, возраст, вес и т. д. Человек также обладает поведением, то есть он ходит, говорит, дышит и т. д. В соответствии
со своим базовым определением объект — это сущность, одновременно содержащая данные и поведения.  

В программировании объект - это сущность, которая одновременно содержит _данные_ и _поведение_.  
Данные в объекте - это набор свойств. Свойство объекта можно понимать как переменную, которая существует и принадлежит
только этому объекту.  
Поведение - это набор методов. Метод объекта - это функция, которая так же как и свойство относится только к своему
объекту.  

Объекты — это строительные блоки объектно-ориентированных программ.

## Что называется клиентским кодом

# Отличие ООП подхода от процедурного
При процедурном программировании данные, как правило, отделены от поведения - функций, работающих с этими данными.  
При объектно-ориентированном проектировании данные и поведение размещается одновременно в рамках одного объекта.  
Слово «одновременно» в данном случае определяет ключевую разницу между объектно-ориентированным программированием и
процедурном.  

Процедурная методология зачастую предполагает работу с глобальными данными, а в правильно спроектированной ООП
программе вообще не будет такого понятия как глобальные данные.

## Моделирование реального мира
Как было сказано ранее, ООП отлично подходит для моделирования реального мира.  
Концепция объектов хорошо работает, когда нужно выразить в программном коде объекты из реальной жизни, их свойства,
поведение и отношения.

# Принципы ООП
Но ООП код - это не только код, использующий объекты.  
Так, PHP сценарий может использовать множество разных объектов, но назвать его в полной мере объектно ориентированным
можно только если сами эти объекты, их структура и отношения друг с другом следуют нескольким важным принципам ООП.

## Инкапсуляция
Одно из основных преимуществ использования объектов заключается в том, что объекту не нужно показывать все свои свойства
и поведения. При хорошем объектно-ориентированном проектировании объект должен показывать только интерфейсы, необходимые
другим объектам для взаимодействия с ним.  

Дело в том, что при определении свойств и методов объекта, ООП язык дает возможность указать так называемый модификатор
доступа для кажого свойства/метода.  
Модификатор доступа определяет будет ли доступно это свойство или метод для вызова другими объектами (публичный) или же
только доступ к нему будет возможен только изнутри самого объекта (приватный).

Инкапсуляция определяется тем, что объекты содержат как свойства, так и поведения. Скрытие данных является основной
частью инкапсуляции.

### Важность сокрытия реализации
Возникает вопрос: зачем нужны эти модификаторы доступа и почему нельзя все свойства объекта просто сделать публичными?  
Смысл состоит в том, чтобы не давать доступ внешнему коду к реализации внутренних свойств и методов объекта.  
Например, объект, который применяется для вычисления квадратов чисел, должен обеспечивать способ для получения
результатов. Однако внутренние свойства и алгоритмы, используемые для вычисления квадратов чисел, не нужно
делать доступными для запрашивающего объекта.

## Интерфейс и реализация
Интерфейсом объекта в ООП называется набор публичных свойств и методов. Интерфейс определяет основные средства
коммуникации между объектами.

В реальном мире многие вещи тоже имеют свой интерфейс. Например, традиционный калькулятор предлагает следующий интерфейс:  
- кнопки для ввода чисел и операторов
- дисплей для получения результата

Если бы мы проектировали объект, умеющий как настоящий калькулятор выполнять арифметические операции с числами, то у
этого объекта был бы следующий интерфейс:  
- публичный метод для каждой из арифмитеческих операций
- публичный метод для получения результата

Заметьте, что здесь никак не описано строение внутренней реализации, потому что в интерфейс объекта входят только свойства
и методы, доступные публично.

### Реализация
Только открытые атрибуты и свойства являются частью интерфейсов.  
Пользователи не должны видеть какую-либо часть внутренней реализации и могут взаимодействовать с объектами
исключительно через интерфейсы.  
Клиентский код, работая с вашим объектом, не должен знать как внутри объекта реализовано выполнение нужной ему работы.
Все, что нужно знать вызывающему коду - это интерфейс интересуемого объекта, т.е. как последний предлагает с собой
взаимодействовать.  
Так, клиентскому коду будет абсолютно все равно как объект-калькулятор вычисляет результат, до тех пор, пока он верный.

## Наследование
Одной из наиболее сильных сторон объектно-ориентированного программирования, пожалуй, является повторное использование
кода.  
ООП позволяет вам определять отношения между объектами, которые не только облегчают повторное использование кода,
но и способствуют созданию лучшей общей конструкции путем упорядочения и учета общности разнообразных объектов.
Основное средство обеспечения такой функциональности — наследование.

альтернатива наследованию
полиморфизм

классы и объекты
поддержка в PHP
класс
свойства, константы и доступ
ключевое слово this
конструктор
наследование классов
магические свойства и методы
передача по ссылке
копирование объектов
проверка принадлежности к классу
абстрактный класс
сравнение на примере: ООП и процедурный подход
хорошие практики
